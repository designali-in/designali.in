{
  "name": "popover-03",
  "type": "registry:example",
  "files": [
    {
      "path": "example/components/popovers/popover-03.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport Image from \"next/image\";\nimport UserImg01 from \"@/public/avatars/avatar-80-01.jpg\";\nimport UserImg02 from \"@/public/avatars/avatar-80-02.jpg\";\nimport UserImg03 from \"@/public/avatars/avatar-80-03.jpg\";\nimport UserImg04 from \"@/public/avatars/avatar-80-04.jpg\";\nimport UserImg05 from \"@/public/avatars/avatar-80-05.jpg\";\nimport UserImg06 from \"@/public/avatars/avatar-80-06.jpg\";\nimport { Bell } from \"lucide-react\";\n\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\n\nconst initialNotifications = [\n  {\n    id: 1,\n    image: UserImg01,\n    user: \"Chris Tompson\",\n    action: \"requested review on\",\n    target: \"PR #42: Feature implementation\",\n    timestamp: \"15 minutes ago\",\n    unread: true,\n  },\n  {\n    id: 2,\n    image: UserImg02,\n    user: \"Emma Davis\",\n    action: \"shared\",\n    target: \"New component library\",\n    timestamp: \"45 minutes ago\",\n    unread: true,\n  },\n  {\n    id: 3,\n    image: UserImg03,\n    user: \"James Wilson\",\n    action: \"assigned you to\",\n    target: \"API integration task\",\n    timestamp: \"4 hours ago\",\n    unread: false,\n  },\n  {\n    id: 4,\n    image: UserImg04,\n    user: \"Alex Morgan\",\n    action: \"replied to your comment in\",\n    target: \"Authentication flow\",\n    timestamp: \"12 hours ago\",\n    unread: false,\n  },\n  {\n    id: 5,\n    image: UserImg05,\n    user: \"Sarah Chen\",\n    action: \"commented on\",\n    target: \"Dashboard redesign\",\n    timestamp: \"2 days ago\",\n    unread: false,\n  },\n  {\n    id: 6,\n    image: UserImg06,\n    user: \"Miky Derya\",\n    action: \"mentioned you in\",\n    target: \"Origin UI open graph image\",\n    timestamp: \"2 weeks ago\",\n    unread: false,\n  },\n];\n\nfunction Dot({ className }: { className?: string }) {\n  return (\n    <svg\n      width=\"6\"\n      height=\"6\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 6 6\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={className}\n      aria-hidden=\"true\"\n    >\n      <circle cx=\"3\" cy=\"3\" r=\"3\" />\n    </svg>\n  );\n}\n\nexport default function PopoverDemo() {\n  const [notifications, setNotifications] = useState(initialNotifications);\n  const unreadCount = notifications.filter((n) => n.unread).length;\n\n  const handleMarkAllAsRead = () => {\n    setNotifications(\n      notifications.map((notification) => ({\n        ...notification,\n        unread: false,\n      })),\n    );\n  };\n\n  const handleNotificationClick = (id: number) => {\n    setNotifications(\n      notifications.map((notification) =>\n        notification.id === id\n          ? { ...notification, unread: false }\n          : notification,\n      ),\n    );\n  };\n\n  return (\n    <Popover>\n      <PopoverTrigger asChild>\n        <Button\n          size=\"icon\"\n          variant=\"outline\"\n          className=\"relative\"\n          aria-label=\"Open notifications\"\n        >\n          <Bell size={16} strokeWidth={2} aria-hidden=\"true\" />\n          {unreadCount > 0 && (\n            <Badge className=\"absolute -top-2 left-full min-w-5 -translate-x-1/2 px-1\">\n              {unreadCount > 99 ? \"99+\" : unreadCount}\n            </Badge>\n          )}\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-80 p-1\">\n        <div className=\"flex items-baseline justify-between gap-4 px-3 py-2\">\n          <div className=\"text-sm font-semibold\">Notifications</div>\n          {unreadCount > 0 && (\n            <button\n              className=\"text-xs font-medium hover:underline\"\n              onClick={handleMarkAllAsRead}\n            >\n              Mark all as read\n            </button>\n          )}\n        </div>\n        <div\n          role=\"separator\"\n          aria-orientation=\"horizontal\"\n          className=\"-mx-1 my-1 h-px bg-border\"\n        ></div>\n        {notifications.map((notification) => (\n          <div\n            key={notification.id}\n            className=\"rounded-md px-3 py-2 text-sm transition-colors hover:bg-accent\"\n          >\n            <div className=\"relative flex items-start gap-3 pe-3\">\n              <Image\n                className=\"size-9 rounded-md\"\n                src={notification.image}\n                width={32}\n                height={32}\n                alt={notification.user}\n              />\n              <div className=\"flex-1 space-y-1\">\n                <button\n                  className=\"text-left text-foreground/80 after:absolute after:inset-0\"\n                  onClick={() => handleNotificationClick(notification.id)}\n                >\n                  <span className=\"font-medium text-foreground hover:underline\">\n                    {notification.user}\n                  </span>{\" \"}\n                  {notification.action}{\" \"}\n                  <span className=\"font-medium text-foreground hover:underline\">\n                    {notification.target}\n                  </span>\n                  .\n                </button>\n                <div className=\"text-xs text-muted-foreground\">\n                  {notification.timestamp}\n                </div>\n              </div>\n              {notification.unread && (\n                <div className=\"absolute end-0 self-center\">\n                  <Dot />\n                </div>\n              )}\n            </div>\n          </div>\n        ))}\n      </PopoverContent>\n    </Popover>\n  );\n}\n",
      "type": "registry:example",
      "target": ""
    }
  ]
}